<div class="h-screen w-full flex overflow-hidden">
    <app-sidebar></app-sidebar>

    <div class="w-full mx-12 my-2 overflow-auto">
        <h2 class="py-4 text-2xl font-semibold text-gray-800 border-b">
            Lista de Congresos
        </h2>
        <pagination-controls (pageChange)="page = $event" previousLabel="Anterior" nextLabel="Siguiente">
        </pagination-controls>

        <div class="py-6">
            <div class="inline-block shadow rounded-lg">
                <table>
                    <thead>
                        <tr>
                            <th
                                class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-sm text-gray-600">
                                Nombre
                            </th>
                            <th
                                class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-sm text-gray-600">
                                Areas De Conocimiento
                            </th>
                            <th
                                class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-sm text-gray-600">
                                Reglas
                            </th>
                            <th
                                class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-sm text-gray-600">
                                Fecha Inicio
                            </th>
                            <th
                                class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-sm text-gray-600">
                                Fecha fin
                            </th>
                            <th
                                class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-sm text-gray-600">
                                Habilitado / Inhabilitado
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let congres of congress.data  | paginate: { itemsPerPage: 5, currentPage: page }"
                            class="hover:bg-gray-100">
                            <td class="px-5 py-5 border-b border-gray-200 text-sm">
                                <p class="text-gray-900">{{congres.name}}
                                </p>
                            </td>
                            <td class="px-5 py-5 border-b border-gray-200 text-sm text-center">
                                <p class="text-gray-900">{{congres.knowledge_area}}</p>
                            </td>
                            <td class="px-5 py-5 border-b border-gray-200 text-sm">
                                <button onclick="document.getElementById('myModal').showModal()" id="btn"
                                    class="tooltip appearance-none focus:outline-none mr-2">
                                    <i class="fas fa-eye text-blue-800 text-xl"></i>
                                </button>
                            </td>
                            <td class="px-5 py-5 border-b border-gray-200 text-sm text-center">
                                <p class="text-gray-900">
                                    {{congres.start_date | date: 'dd/MM/yyyy'}}
                                </p>
                            </td>
                            <td class="px-5 py-5 border-b border-gray-200 text-sm text-center">
                                <p class="text-gray-900">
                                    {{congres.end_date | date: 'dd/MM/yyyy'}}
                                </p>
                            </td>

                            <td class="px-5 py-5 border-b border-gray-200 text-sm text-center">
                          <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                            <input (click)="disableCongress(congres._id, congres.status_congress = false)" type="checkbox"
                                   *ngIf="congres.status_congress == true" checked
                                   class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none focus:outline-none cursor-pointer"/>
                            <input (click)="disableCongress(congres._id, congres.status_congress = true)" type="checkbox"
                                   *ngIf="congres.status_congress == false"
                                   class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none focus:outline-none cursor-pointer"/>
                            <label class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300"></label>
                          </div>
                        </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </div>
</div>



<!-- MODAL -->
<dialog id="myModal" class="lex flex-col w-flex h-flex">
    <div class="flex flex-col">
        <div class="flex w-full h-auto justify-between">
            <div class="h-auto pb-5 pl-2 text-2xl">
                <i class="fas fa-book-open text-blue-800 text-2xl mr-2"></i>
                Reglamentos del Congreso
            <div class="h-auto pb-5 pr-2 text-2xl">
                <i onclick="document.getElementById('myModal').close();"
                    class="fas fa-window-close text-red-700 text-2xl cursor-pointer"></i>
            </div>
            <div *ngFor="let congres of congress.data"
                class="w-full h-auto items-center bg-gray-200 rounded text-gray-800">
                <div class="flex">
                    <iframe class="text-xl text-justify w-full" srcdoc="{{ congres.regulations }}"></iframe>
                  </div>
            </div>
        </div>
        </div>
    </div>
</dialog>
